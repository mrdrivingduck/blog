import{_ as n,c as a,a as l,o}from"./app-BeHGwf2X.js";const s="/blog/assets/10-8-BA1qh1Fo.png",c={};function t(r,e){return o(),a("div",null,e[0]||(e[0]=[l('<h1 id="chapter-10-3-console-c-程序" tabindex="-1"><a class="header-anchor" href="#chapter-10-3-console-c-程序"><span>Chapter 10.3 - console.c 程序</span></a></h1><p>Created by : Mr Dk.</p><p>2019 / 08 / 26 12:15</p><p>Ningbo, Zhejiang, China</p><hr><h2 id="_10-3-console-c-程序" tabindex="-1"><a class="header-anchor" href="#_10-3-console-c-程序"><span>10.3 console.c 程序</span></a></h2><h3 id="_10-3-1-功能描述" tabindex="-1"><a class="header-anchor" href="#_10-3-1-功能描述"><span>10.3.1 功能描述</span></a></h3><p>是内核中最长的程序，但功能极为单一......所有子程序都是为了实现终端屏幕写函数 <code>con_write()</code>，以及进行终端屏幕显示的控制操作。函数 <code>con_write()</code> 主要由转换语句组成：</p><ul><li>从终端写缓冲队列中取出字符或字符序列</li><li>根据字符的性质，把字符写到显示内存中</li></ul><h3 id="_10-3-2-代码注释" tabindex="-1"><a class="header-anchor" href="#_10-3-2-代码注释"><span>10.3.2 代码注释</span></a></h3><h3 id="_10-3-3-其它信息" tabindex="-1"><a class="header-anchor" href="#_10-3-3-其它信息"><span>10.3.3 其它信息</span></a></h3><h4 id="_10-3-3-2-滚屏操作原理" tabindex="-1"><a class="header-anchor" href="#_10-3-3-2-滚屏操作原理"><span>10.3.3.2 滚屏操作原理</span></a></h4><p>将屏幕看作 <strong>显示内存</strong> 上对应屏幕内容的一个 <strong>窗口</strong>。屏幕内容上下移动就是将窗口沿显示内存上下移动，在程序中即重新设置 <strong>显示控制器</strong> 中显存的起始位置。程序处理过程分三步进行：</p><ol><li>调整屏幕的起始位置 origin</li><li>判断屏幕内的数据是否超出显示内存的下边界，如果是，则将屏幕对应的内存数据移动到显示内存的开始位置处</li><li>对于滚屏后的屏幕出现的新行，用空格字符填满</li></ol><p>以下是向上卷屏的操作示意图：</p><p><img src="'+s+'" alt="10-8"></p><p>向下卷屏也是同样的原理，只不过判断的是屏幕内的数据是否超出显示内存的上边界。如果是，需要将屏幕对应的内存拷贝到显示内存的末端。</p>',17)]))}const h=n(c,[["render",t],["__file","Chapter 10.3 - console.c 程序.html.vue"]]),p=JSON.parse('{"path":"/linux-kernel-comments-notes/Chapter%2010%20-%20%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F/Chapter%2010.3%20-%20console.c%20%E7%A8%8B%E5%BA%8F.html","title":"Chapter 10.3 - console.c 程序","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"10.3 console.c 程序","slug":"_10-3-console-c-程序","link":"#_10-3-console-c-程序","children":[{"level":3,"title":"10.3.1 功能描述","slug":"_10-3-1-功能描述","link":"#_10-3-1-功能描述","children":[]},{"level":3,"title":"10.3.2 代码注释","slug":"_10-3-2-代码注释","link":"#_10-3-2-代码注释","children":[]},{"level":3,"title":"10.3.3 其它信息","slug":"_10-3-3-其它信息","link":"#_10-3-3-其它信息","children":[]}]}],"git":{},"filePathRelative":"linux-kernel-comments-notes/Chapter 10 - 字符设备驱动程序/Chapter 10.3 - console.c 程序.md"}');export{h as comp,p as data};
