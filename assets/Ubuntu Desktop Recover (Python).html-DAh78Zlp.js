import{_ as i,c as o,a as t,b as s,f as e,d as l,e as p,r,o as u}from"./app-7eKjwDat.js";const d={};function c(m,n){const a=r("RouteLink");return u(),o("div",null,[n[9]||(n[9]=t(`<h1 id="ubuntu-desktop-recover-python" tabindex="-1"><a class="header-anchor" href="#ubuntu-desktop-recover-python"><span>Ubuntu - Desktop Recover (Python)</span></a></h1><p>Created by : Mr Dk.</p><p>2020 / 09 / 06 13:20</p><p>Nanjing, Jiangsu, China</p><hr><h2 id="ubuntu-desktop-python-3" tabindex="-1"><a class="header-anchor" href="#ubuntu-desktop-python-3"><span>Ubuntu Desktop &amp; Python 3</span></a></h2><p>今天试图在本地运行华为的 <em>MindSpore</em> AI 工具集，要求使用 Python 3.7.5 以上版本。看了看 Ubuntu 本机的 Python 版本：</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ python3</span>
<span class="line">Python 3.6.9 (default, Jul 17 2020, 12:50:27)</span>
<span class="line">[GCC 8.4.0] on linux</span>
<span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span>
<span class="line">&gt;&gt;&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>版本不够新。于是我用 APT 安装了 Python 3.7，并试图把 Python 3.6 给卸载掉。大问题来了。在使用 <code>apt remove python3</code> 时，提示顺带还会删除一大堆东西。我也没太在意，直接回车了。卸载完毕后，我发现自己的 Terminal、Ubuntu Software 等基础工具全部没了。幸亏我没有重启电脑，否则据说连桌面都进不去了。幸亏这台电脑连接了局域网，我在自己的笔记本上通过 SSH 还能通过命令行向这台电脑输入命令。</p><p>看来 Ubuntu 桌面极大依赖于特定版本的 Python。所以补救措施是，把所有被卸载掉的部分 <a href="https://blog.csdn.net/sinat_31131353/article/details/87948471" target="_blank" rel="noopener noreferrer">装回来</a>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ubuntu-minimal ubuntu-standard ubuntu-desktop</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后重启电脑。</p><h2 id="terminal-python-3" tabindex="-1"><a class="header-anchor" href="#terminal-python-3"><span>Terminal &amp; Python 3</span></a></h2>`,13)),s("p",null,[n[1]||(n[1]=e("之后，我试图使用 ")),l(a,{to:"/notes/Compiler/Compiler%20Multi-version%20GCC.html"},{default:p(()=>n[0]||(n[0]=[e("管理多版本 GCC")])),_:1}),n[2]||(n[2]=e(" 的方式来管理多版本的 Python 3。方法是可行的，但是将 ")),n[3]||(n[3]=s("code",null,"python3",-1)),n[4]||(n[4]=e(" 的指向从 ")),n[5]||(n[5]=s("code",null,"python3.6",-1)),n[6]||(n[6]=e(" 改到 ")),n[7]||(n[7]=s("code",null,"python3.7",-1)),n[8]||(n[8]=e(" 后，Terminal 运行不起来了。"))]),n[10]||(n[10]=t(`<p>我通过远程 SSH 输入命令查看问题：</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ gnome-terminal</span>
<span class="line">Traceback (most recent call last):</span>
<span class="line">  File &quot;/usr/bin/gnome-terminal&quot;, line 9, in &lt;module&gt;</span>
<span class="line">    from gi.repository import GLib, Gio</span>
<span class="line">  File &quot;/usr/lib/python3/dist-packages/gi/__init__.py&quot;, line 42, in &lt;module&gt;</span>
<span class="line">    from . import _gi</span>
<span class="line">ImportError: cannot import name &#39;_gi&#39; from &#39;gi&#39; (/usr/lib/python3/dist-packages/gi/__init__.py)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>暂时没有研究怎么解决问题。在用完 Python 3.7 之后，使用 <code>update-alternatives --config python3</code> 将 <code>python3</code> 指回 <code>python3.6</code> 即可。</p><hr>`,4))])}const v=i(d,[["render",c],["__file","Ubuntu Desktop Recover (Python).html.vue"]]),b=JSON.parse('{"path":"/notes/Operating%20System/Ubuntu%20Desktop%20Recover%20(Python).html","title":"Ubuntu - Desktop Recover (Python)","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Ubuntu Desktop & Python 3","slug":"ubuntu-desktop-python-3","link":"#ubuntu-desktop-python-3","children":[]},{"level":2,"title":"Terminal & Python 3","slug":"terminal-python-3","link":"#terminal-python-3","children":[]}],"git":{},"filePathRelative":"notes/Operating System/Ubuntu Desktop Recover (Python).md"}');export{v as comp,b as data};
