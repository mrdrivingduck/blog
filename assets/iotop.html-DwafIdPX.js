import{_ as s,c as a,a as e,o as p}from"./app-BeHGwf2X.js";const t={};function l(o,n){return p(),a("div",null,n[0]||(n[0]=[e(`<h1 id="iotop" tabindex="-1"><a class="header-anchor" href="#iotop"><span>iotop</span></a></h1><p>Created by : Mr Dk.</p><p>2023 / 02 / 19 20:53</p><p>Hangzhou, Zhejiang, China</p><hr><h2 id="background" tabindex="-1"><a class="header-anchor" href="#background"><span>Background</span></a></h2><p><code>iotop</code> 是一个类似 <code>top</code> 的 I/O 监视器。它能够在 Linux 2.6.20 及之后的内核中被用于监控进程或线程当前的 I/O 使用情况。使用 Python 实现。注意，运行这个程序需要 root 权限。</p><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">$ iotop <span class="token parameter variable">-h</span></span>
<span class="line">Usage: /usr/sbin/iotop <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">DISK READ and DISK WRITE are the block I/O bandwidth used during the sampling</span>
<span class="line">period. SWAPIN and IO are the percentages of <span class="token function">time</span> the thread spent respectively</span>
<span class="line"><span class="token keyword">while</span> swapping <span class="token keyword">in</span> and waiting on I/O <span class="token function">more</span> generally. PRIO is the I/O priority</span>
<span class="line">at <span class="token function">which</span> the thread is running <span class="token punctuation">(</span>set using the ionice <span class="token builtin class-name">command</span><span class="token punctuation">)</span>.</span>
<span class="line"></span>
<span class="line">Controls: left and right arrows to change the sorting column, r to invert the</span>
<span class="line">sorting order, o to toggle the <span class="token parameter variable">--only</span> option, p to toggle the <span class="token parameter variable">--processes</span></span>
<span class="line">option, a to toggle the <span class="token parameter variable">--accumulated</span> option, i to change I/O priority, q to</span>
<span class="line">quit, any other key to force a refresh.</span>
<span class="line"></span>
<span class="line">Options:</span>
<span class="line">  <span class="token parameter variable">--version</span>             show program&#39;s version number and <span class="token builtin class-name">exit</span></span>
<span class="line">  -h, <span class="token parameter variable">--help</span>            show this <span class="token builtin class-name">help</span> message and <span class="token builtin class-name">exit</span></span>
<span class="line">  -o, <span class="token parameter variable">--only</span>            only show processes or threads actually doing I/O</span>
<span class="line">  -b, <span class="token parameter variable">--batch</span>           non-interactive mode</span>
<span class="line">  <span class="token parameter variable">-n</span> NUM, <span class="token parameter variable">--iter</span><span class="token operator">=</span>NUM    number of iterations before ending <span class="token punctuation">[</span>infinite<span class="token punctuation">]</span></span>
<span class="line">  <span class="token parameter variable">-d</span> SEC, <span class="token parameter variable">--delay</span><span class="token operator">=</span>SEC   delay between iterations <span class="token punctuation">[</span><span class="token number">1</span> second<span class="token punctuation">]</span></span>
<span class="line">  <span class="token parameter variable">-p</span> PID, <span class="token parameter variable">--pid</span><span class="token operator">=</span>PID     processes/threads to monitor <span class="token punctuation">[</span>all<span class="token punctuation">]</span></span>
<span class="line">  <span class="token parameter variable">-u</span> <span class="token environment constant">USER</span>, <span class="token parameter variable">--user</span><span class="token operator">=</span><span class="token environment constant">USER</span>  <span class="token function">users</span> to monitor <span class="token punctuation">[</span>all<span class="token punctuation">]</span></span>
<span class="line">  -P, <span class="token parameter variable">--processes</span>       only show processes, not all threads</span>
<span class="line">  -a, <span class="token parameter variable">--accumulated</span>     show accumulated I/O instead of bandwidth</span>
<span class="line">  -k, <span class="token parameter variable">--kilobytes</span>       use kilobytes instead of a human friendly unit</span>
<span class="line">  -t, <span class="token parameter variable">--time</span>            <span class="token function">add</span> a timestamp on each line <span class="token punctuation">(</span>implies --batch<span class="token punctuation">)</span></span>
<span class="line">  -q, <span class="token parameter variable">--quiet</span>           suppress some lines of header <span class="token punctuation">(</span>implies --batch<span class="token punctuation">)</span></span>
<span class="line">  --no-help             suppress listing of shortcuts</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">$ iotop</span>
<span class="line">Total DISK READ:         <span class="token number">0.00</span> B/s <span class="token operator">|</span> Total DISK WRITE:         <span class="token number">0.00</span> B/s</span>
<span class="line">Current DISK READ:       <span class="token number">0.00</span> B/s <span class="token operator">|</span> Current DISK WRITE:       <span class="token number">0.00</span> B/s</span>
<span class="line">    TID  PRIO  <span class="token environment constant">USER</span>     DISK READ  DISK WRITE  SWAPIN     IO<span class="token operator">&gt;</span>    COMMAND                                                <span class="token number">3168099</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.02</span> % <span class="token punctuation">[</span>kworker/u4:0-events_freezable_power_<span class="token punctuation">]</span></span>
<span class="line">      <span class="token number">1</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % init</span>
<span class="line">      <span class="token number">2</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span></span>
<span class="line">      <span class="token number">3</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>rcu_gp<span class="token punctuation">]</span></span>
<span class="line">      <span class="token number">4</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>rcu_par_gp<span class="token punctuation">]</span></span>
<span class="line">      <span class="token number">6</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>kworker/0:0H-kblockd<span class="token punctuation">]</span></span>
<span class="line">      <span class="token number">9</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>mm_percpu_wq<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">10</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">11</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">12</span> rt/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">13</span> rt/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>idle_inject/0<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">14</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>cpuhp/0<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">15</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>cpuhp/1<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">16</span> rt/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>idle_inject/1<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">17</span> rt/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>migration/1<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">18</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>ksoftirqd/1<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">20</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>kworker/1:0H-kblockd<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">21</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>kdevtmpfs<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">22</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>netns<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">23</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>rcu_tasks_kthre<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">24</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>kauditd<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">25</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>khungtaskd<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">26</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>oom_reaper<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">27</span> be/0 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>writeback<span class="token punctuation">]</span></span>
<span class="line">     <span class="token number">28</span> be/4 root        <span class="token number">0.00</span> B/s    <span class="token number">0.00</span> B/s  <span class="token number">0.00</span> %  <span class="token number">0.00</span> % <span class="token punctuation">[</span>kcompactd0<span class="token punctuation">]</span></span>
<span class="line">  keys:  any: refresh  q: quit  i: ionice  o: active  p: procs  a: accum                                                  sort:  r: asc  left: SWAPIN  right: COMMAND  home: TID  end: COMMAND</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 <code>-o</code> 参数只打印当前正在进行 I/O 的进程/线程。</p><p>使用 <code>-p PID</code> 参数可以只观测某个进程的 I/O。</p><p>使用 <code>-a</code> 参数可以进入 <strong>累加模式</strong>。输出的数值不是带宽（瞬时值），而是 <code>iotop</code> 启动后的累计值。</p><p>使用 <code>-t</code> 参数可以在每一行输出中带上时间戳。</p><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2><p><a href="https://www.geeksforgeeks.org/iotop-command-in-linux-with-examples/" target="_blank" rel="noopener noreferrer">iotop Command in Linux with Examples</a></p><p><a href="https://linux.die.net/man/1/iotop" target="_blank" rel="noopener noreferrer">iotop(1) - Linux man page</a></p>`,17)]))}const i=s(t,[["render",l],["__file","iotop.html.vue"]]),r=JSON.parse('{"path":"/notes/Linux/iotop.html","title":"iotop","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Background","slug":"background","link":"#background","children":[]},{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[]},{"level":2,"title":"References","slug":"references","link":"#references","children":[]}],"git":{},"filePathRelative":"notes/Linux/iotop.md"}');export{i as comp,r as data};
