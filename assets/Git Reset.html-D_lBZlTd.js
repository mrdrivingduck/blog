import{_ as t,c as o,a as d,o as i}from"./app-BeHGwf2X.js";const s="/blog/assets/git-reset-workflow-DWwyH72J.png",c="/blog/assets/git-last-commit-8IfVEJu_.png",r="/blog/assets/git-edit-file-BzIqWpt-.png",l="/blog/assets/git-add-file-CKtKVW27.png",a="/blog/assets/git-commit-CA5t8gG7.png",n="/blog/assets/git-reset-soft-4R7nZNUV.png",p="/blog/assets/git-reset-mixed-sPNcCz1r.png",g="/blog/assets/git-reset-hard-D8o2XE8Z.png",h="/blog/assets/git-reset-file-DiWSXF-t.png",m={};function f(u,e){return i(),o("div",null,e[0]||(e[0]=[d('<h1 id="git-reset" tabindex="-1"><a class="header-anchor" href="#git-reset"><span>Git - Reset</span></a></h1><p>Created by : Mr Dk.</p><p>2019 / 04 / 04 17:29</p><p>Ningbo, Zhejiang, China</p><hr><h2 id="about" tabindex="-1"><a class="header-anchor" href="#about"><span>About</span></a></h2><p>ç”¨ Git çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šé‡åˆ°ä¸€äº›éœ€è¦æ’¤é”€æ›´æ”¹ï¼Œæˆ–è€…å›é€€çš„æƒ…å†µã€‚ä»¥å‰æ˜¯è‡ªå·±ä¸€ä¸ªäººç©ï¼ŒåŸºæœ¬ä¸ä¼šé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ã€‚ç°åœ¨æ­£åœ¨å’Œä¸€ä¸ªç‰› b åšå£«è¿›è¡Œåä½œï¼ŒåŠ¨ä¸åŠ¨ä»–å°±ä¼šæŠŠä»“åº“å¼„ä¹± ğŸ˜‘ã€‚ä»Šå¤©èŠ±äº†ç‚¹æ—¶é—´äº†è§£äº†ä¸€ä¸‹ Git çš„ç®¡ç†æ€ç»´ã€‚</p><h2 id="the-three-trees" tabindex="-1"><a class="header-anchor" href="#the-three-trees"><span>The Three Trees</span></a></h2><p>ä¸çŸ¥é“ä¸ºä½•åœ¨ Git ä¸­å°†å…¶å‘½åä¸º <strong>æ ‘</strong>ã€‚å…¶å®å®ƒçš„æ„æ€æ˜¯ä¸€ä¸ª <strong>æ–‡ä»¶çš„é›†åˆ</strong>ï¼Œè€Œä¸æ˜¯æ•°æ®ç»“æ„ã€‚</p><table><thead><tr><th>Tree</th><th>Role</th></tr></thead><tbody><tr><td>HEAD</td><td>Last commit snapshot, next parent</td></tr><tr><td>Index</td><td>Proposed next commit snapshot</td></tr><tr><td>Working Directory</td><td>Sandbox</td></tr></tbody></table><p>å…¶ä¸­ï¼Œ<code>HEAD</code> å’Œ <code>Index</code> è®°å½•åœ¨ <code>/.git</code> æ–‡ä»¶å¤¹ä¸­ï¼Œ<code>Working Derectory</code> å°±æ˜¯å±•ç°çš„å·¥ä½œç›®å½•ã€‚</p><ul><li><p>HEAD æ˜¯å½“å‰åˆ†æ”¯å¼•ç”¨çš„æŒ‡é’ˆï¼ŒæŒ‡å‘åˆ†æ”¯ä¸Šçš„æœ€åä¸€æ¬¡æäº¤ã€‚å³ <strong>ä¸Šä¸€æ¬¡æäº¤çš„å¿«ç…§</strong>ï¼Œæ˜¯å¼€å§‹ä¸€æ¬¡ç¼–è¾‘ä¹‹å‰çš„åˆå§‹çŠ¶æ€ã€‚</p></li><li><p>Index æ˜¯ <strong>é¢„æœŸçš„ä¸‹ä¸€æ¬¡æäº¤</strong>ï¼Œä¹Ÿå°±æ˜¯ Git ä¸­æ‰€è°“çš„ <strong>æš‚å­˜åŒºåŸŸ</strong>ï¼šstageã€‚åœ¨å…¶ä¸­ï¼Œä¸€äº›æ–‡ä»¶å°†ä¼šè¢«æ›¿æ¢ä¸ºæ–°ç‰ˆæœ¬ã€‚</p></li><li><p>å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶åœ¨æäº¤è‡³æš‚å­˜åŒºä¹‹å‰ï¼Œå¯ä»¥éšæ„ç¼–è¾‘ã€‚</p></li></ul><h2 id="workflow" tabindex="-1"><a class="header-anchor" href="#workflow"><span>Workflow</span></a></h2><p>Git ä¸»è¦é€šè¿‡æ“ä½œä¸Šè¿°ä¸‰æ£µæ ‘çš„çŠ¶æ€æ¥è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œç›´è§‚ä¸Šæ¥çœ‹ï¼š</p><ul><li>å°† <code>Working Directory</code> ä¸­çš„å˜æ›´æäº¤åˆ°æš‚å­˜åŒº <code>Index</code></li><li>å°†æš‚å­˜åŒº <code>Index</code> ä¸­çš„å˜æ›´æäº¤åˆ° <code>HEAD</code></li><li>æ ‘ä¹‹é—´å¯ä»¥è¿›è¡ŒçŠ¶æ€è½¬ç§»ã€åˆ‡æ¢</li></ul><img src="'+s+'" alt="git-reset-workflow" style="zoom:80%;"><h3 id="ä¸€æ¬¡æ­£å¸¸çš„æäº¤è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¸€æ¬¡æ­£å¸¸çš„æäº¤è¿‡ç¨‹"><span>ä¸€æ¬¡æ­£å¸¸çš„æäº¤è¿‡ç¨‹</span></a></h3><p>å‡è®¾ Git ä»“åº“ä¸­æœ€åä¸€æ¬¡æäº¤çš„ <code>file.txt</code> æ–‡ä»¶çš„ç‰ˆæœ¬ä¸º <code>V1</code>ã€‚åœ¨ä¸Šä¸€æ¬¡çš„ <code>git commit</code> æäº¤å®Œæˆä¹‹åï¼š</p><img src="'+c+'" alt="git-last-commit" style="zoom:80%;"><p>æ¥ä¸‹æ¥ï¼Œå¯¹å·¥ä½œç›®å½•ä¸­çš„ <code>file.txt</code> è¿›è¡Œäº†ç›¸åº”çš„æ”¹åŠ¨ï¼Œæ”¹åŠ¨åçš„ç‰ˆæœ¬ä¸º <code>V2</code>ï¼š</p><img src="'+r+'" alt="git-edit-file" style="zoom:80%;"><p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ <code>git add file.txt</code> å°† <code>V2</code> ç‰ˆæœ¬ä¿å­˜åˆ°æš‚å­˜åŒºï¼š</p><img src="'+l+'" alt="git-add-file" style="zoom:80%;"><p>æœ€åï¼Œä½¿ç”¨ <code>git commit</code> å°† <code>V2</code> ç‰ˆæœ¬ä»æš‚å­˜åŒºä¸­æäº¤ï¼Œ<code>HEAD</code> æŒ‡é’ˆå‰è¿›ï¼š</p><img src="'+a+'" alt="git-commit" style="zoom:80%;"><p>åªè¦ä¸‰æ£µæ ‘çš„çŠ¶æ€ä¸€è‡´ï¼Œå°±è®¤ä¸ºç›®å½•æ˜¯å¹²å‡€çš„ã€‚</p><p>åœ¨åˆ‡æ¢åˆ†æ”¯æ—¶ï¼š</p><ul><li>ä¿®æ”¹ <code>HEAD</code> æŒ‡é’ˆæŒ‡å‘å¯¹åº”åˆ†æ”¯</li><li>å°† <code>Index</code> å¡«å……ä¸ºè¯¥æ¬¡æäº¤çš„å¿«ç…§</li><li>å°† <code>Index</code> ä¸­çš„å†…å®¹å¤åˆ¶åˆ° <code>Working Directory</code> ä¸­</li></ul><h2 id="reset" tabindex="-1"><a class="header-anchor" href="#reset"><span>Reset</span></a></h2><h3 id="soft" tabindex="-1"><a class="header-anchor" href="#soft"><span>Soft</span></a></h3><p><code>reset</code> åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ç§»åŠ¨ <code>HEAD</code> æŒ‡é’ˆçš„æŒ‡å‘ã€‚æœ¬è´¨ä¸Šç›¸å½“äº <strong>æ’¤é”€äº†ä¸Šä¸€æ¬¡çš„ <code>git commit</code></strong>ï¼Œå›æ»šåˆ°äº† <code>git commit</code> ä¹‹å‰ã€‚<code>git reset --soft</code> åœ¨è¿™ä¸€æ­¥ç»“æŸååœæ­¢ï¼š</p><img src="'+n+'" alt="git-reset-soft" style="zoom:80%;"><p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œå¯ä»¥å¯¹ <code>Index</code> è¿›è¡Œæ›´æ–°ï¼Œå¹¶é‡æ–° <code>git commit</code>ã€‚</p><h3 id="mixed" tabindex="-1"><a class="header-anchor" href="#mixed"><span>Mixed</span></a></h3><p><code>reset</code> è¦åšçš„ç¬¬äºŒä»¶äº‹ï¼Œé™¤äº†ä¸Šä¸€æ­¥çš„ <code>HEAD</code> æŒ‡é’ˆå‰ç§»ä»¥å¤–ï¼Œè¿˜ä¼šæ¢å¤ <code>Index</code> çš„çŠ¶æ€ã€‚è¿™æ˜¯ <code>git reset</code> çš„é»˜è®¤è¡Œä¸ºã€‚</p><p>æœ¬è´¨æ˜¯ï¼šæ’¤é”€ä¸Šä¸€æ¬¡çš„ <code>git commit</code>ï¼Œè¿˜ä¼šå–æ¶ˆæš‚å­˜æ‰€æœ‰çš„ä¸œè¥¿ã€‚ç›¸å½“äºå›æ»šåˆ° <code>git commit</code> å’Œ <code>git add</code> å‘½ä»¤æ‰§è¡Œä¹‹å‰ã€‚<code>git reset [--mixed]</code> åœ¨è¿™ä¸€æ­¥ç»“æŸååœæ­¢ã€‚</p><img src="'+p+'" alt="git-reset-mixed" style="zoom:80%;"><h3 id="hard" tabindex="-1"><a class="header-anchor" href="#hard"><span>Hard</span></a></h3><p><code>reset</code> åšçš„ç¬¬ä¸‰ä»¶äº‹æ˜¯å°† <code>Working Directory</code> æ¢å¤åˆ° <code>HEAD</code> æŒ‡å‘çš„çŠ¶æ€ã€‚åœ¨è¿™ä¸€æ­¥ä¸‹ï¼Œæ’¤é”€äº†æ‰€æœ‰çš„ <code>git commit</code>ã€<code>git add</code> å’Œ <code>Working Directory</code> ä¸­çš„æ‰€æœ‰ä¿®æ”¹ã€‚<code>git reset --hard</code> åœ¨è¿™ä¸€æ­¥ç»“æŸååœæ­¢ï¼š</p><img src="'+g+'" alt="git-reset-hard" style="zoom:80%;"><p><code>git reset --hard</code> æ˜¯ä¸€ä¸ªå±é™©çš„æ“ä½œï¼Œå› ä¸ºå®ƒå¼ºåˆ¶è¦†ç›–äº†å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œæ— æ³•æ¢å¤ã€‚</p><h3 id="review" tabindex="-1"><a class="header-anchor" href="#review"><span>Review</span></a></h3><p>Git çš„ <code>reset</code> å‘½ä»¤ä»¥ç‰¹å®šé¡ºåºé‡å†™ä¸‰æ£µæ ‘ï¼š</p><ul><li>ç§»åŠ¨ <code>HEAD</code> æŒ‡é’ˆ - æŒ‡å®š <code>--soft</code> åˆ™åˆ°æ­¤åœæ­¢</li><li>æ¢å¤ <code>Index</code> - æŒ‡å®š <code>--mixed</code> æˆ–ä¸æŒ‡å®šï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ™åˆ°æ­¤åœæ­¢</li><li>æ¢å¤ <code>Working Directory</code> - æŒ‡å®š <code>--hard</code> åˆ™åˆ°æ­¤åœæ­¢</li></ul><p>å¯ä»¥ä¸º <code>reset</code> æä¾›ä¸€ä¸ªä½œç”¨è·¯å¾„ï¼Œå°†ä½œç”¨èŒƒå›´é™å®šä¸ºæŒ‡å®šçš„æ–‡ä»¶æˆ–æ–‡ä»¶é›†åˆã€‚ç”±äº <code>HEAD</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ— æ³•åŒæ—¶æŒ‡å‘ä¸¤ä¸ªæäº¤ï¼Œå› æ­¤ä¼šè·³è¿‡è¿™ä¸€æ­¥ï¼›ä½† <code>Index</code> å’Œ <code>Working Directory</code> å¯ä»¥éƒ¨åˆ†æ›´æ–°ã€‚</p><p>å‡å¦‚è¿è¡Œ <code>git reset file.txt</code> (<code>git reset --mixed HEAD file.txt</code>)</p><ol><li>ç§»åŠ¨ <code>HEAD</code> æŒ‡é’ˆ (è·³è¿‡)</li><li>å°† <code>Index</code> æ¢å¤è‡³ <code>HEAD</code> çš„å¯¹åº”ç‰ˆæœ¬</li></ol><p>æœ¬è´¨ä¸Šï¼šå°† <code>file.txt</code> ä» <code>HEAD</code> å¤åˆ¶åˆ° <code>Index</code> ä¸­ï¼›å®é™…ä¸Šï¼šäº§ç”Ÿäº† <strong>å–æ¶ˆæš‚å­˜æ–‡ä»¶</strong> çš„æ•ˆæœã€‚</p><img src="'+h+`" alt="git-reset-file" style="zoom:80%;"><h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary"><span>Summary</span></a></h2><p>æŒºå¤æ‚çš„ æœ‰äº†å›¾å°±å®¹æ˜“ç†è§£å¤šäº†ã€‚å½’çº³ä¸€ä¸‹å¯èƒ½ä¼šç”¨çš„æ¯”è¾ƒå¤šçš„åœºæ™¯ï¼š</p><ol><li><p>å–æ¶ˆæš‚å­˜çš„æ–‡ä»¶</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ git reset HEAD &lt;file_name&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ git checkout -- &lt;file_name&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol>`,52)]))}const b=t(m,[["render",f],["__file","Git Reset.html.vue"]]),_=JSON.parse('{"path":"/notes/Git/Git%20Reset.html","title":"Git - Reset","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"About","slug":"about","link":"#about","children":[]},{"level":2,"title":"The Three Trees","slug":"the-three-trees","link":"#the-three-trees","children":[]},{"level":2,"title":"Workflow","slug":"workflow","link":"#workflow","children":[{"level":3,"title":"ä¸€æ¬¡æ­£å¸¸çš„æäº¤è¿‡ç¨‹","slug":"ä¸€æ¬¡æ­£å¸¸çš„æäº¤è¿‡ç¨‹","link":"#ä¸€æ¬¡æ­£å¸¸çš„æäº¤è¿‡ç¨‹","children":[]}]},{"level":2,"title":"Reset","slug":"reset","link":"#reset","children":[{"level":3,"title":"Soft","slug":"soft","link":"#soft","children":[]},{"level":3,"title":"Mixed","slug":"mixed","link":"#mixed","children":[]},{"level":3,"title":"Hard","slug":"hard","link":"#hard","children":[]},{"level":3,"title":"Review","slug":"review","link":"#review","children":[]}]},{"level":2,"title":"Summary","slug":"summary","link":"#summary","children":[]}],"git":{},"filePathRelative":"notes/Git/Git Reset.md"}');export{b as comp,_ as data};
