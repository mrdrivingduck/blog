import{_ as i,c as l,a,o as d}from"./app-7eKjwDat.js";const t={};function n(o,e){return d(),l("div",null,e[0]||(e[0]=[a('<h1 id="solidity-units-and-globally-available-variables" tabindex="-1"><a class="header-anchor" href="#solidity-units-and-globally-available-variables"><span>Solidity - Units and Globally Available Variables</span></a></h1><p>Created by : Mr Dk.</p><p>2020 / 02 / 25 22:42</p><p>Ningbo, Zhejiang, China</p><hr><h2 id="ether-units" tabindex="-1"><a class="header-anchor" href="#ether-units"><span>Ether Units</span></a></h2><p>最小单位 - <code>wei</code></p><ul><li><code>wei</code> - 最小单位，也是单位缺省时的默认单位</li><li><code>szabo</code> - <code>10^12 wei</code></li><li><code>finney</code> - <code>10^3 szabo</code></li><li><code>ether</code> - <code>10^3 finney</code></li></ul><h2 id="time-units" tabindex="-1"><a class="header-anchor" href="#time-units"><span>Time Units</span></a></h2><ul><li><code>seconds</code></li><li><code>minutes</code></li><li><code>hours</code></li><li><code>days</code></li><li><code>weeks</code></li><li><code>years</code></li></ul><h2 id="special-variables-and-functions" tabindex="-1"><a class="header-anchor" href="#special-variables-and-functions"><span>Special Variables and Functions</span></a></h2><h3 id="block-and-transaction-properties" tabindex="-1"><a class="header-anchor" href="#block-and-transaction-properties"><span>Block and Transaction Properties</span></a></h3><ul><li><code>block.blockhash(uint blockNumber) returns (bytes32)</code> - 256 个最近的区块 hash</li><li><code>address block.coinbase</code> - 目前区块矿工地址</li><li><code>unit block.difficulty</code> - 目前区块的难度</li><li><code>uint block.gaslimit</code> - 目前区块的 gaslimit</li><li><code>uint block.number</code> - 目前区块的 number</li><li><code>uint block.timestamp</code> - 目前区块的 Unix 时间戳</li><li><code>bytes msg.data</code> - 完整的 calldata</li><li><code>uint msg.gas</code> - 剩余的 gas</li><li><code>address msg.sender</code> - 目前调用的发送者</li><li><code>bytes4 msg.sig</code> - Calldata 的前四个字节 (函数标识符)</li><li><code>uint msg.value</code> - 随着 message 发送的 wei</li><li><code>uint now</code> - 目前区块的 Unix 时间戳</li><li><code>uint tx.gasprice</code> - 交易的 gas price</li><li><code>address tx.origin</code> - 交易的发起方</li></ul><p><code>msg</code> 在每次 external function call 中可能都是不一样的。</p><p>处于安全性的考虑，不要使用区块的时间戳或者 hash 等作为随机数的生成源 - 因为这些数据可以被矿工操控。</p><h3 id="error-handling" tabindex="-1"><a class="header-anchor" href="#error-handling"><span>Error Handling</span></a></h3><ul><li><code>assert(bool condition)</code> - 如果条件不满足，就抛出；用于内部错误</li><li><code>require(bool condition)</code> - 如果条件不满足，就抛出；用于外部输入错误</li><li><code>revert()</code> - 中止执行，回滚状态改变</li></ul><h2 id="mathematical-and-cryptographic-functions" tabindex="-1"><a class="header-anchor" href="#mathematical-and-cryptographic-functions"><span>Mathematical and Cryptographic Functions</span></a></h2><h2 id="address-related" tabindex="-1"><a class="header-anchor" href="#address-related"><span>Address Related</span></a></h2><ul><li><code>&lt;address&gt;.balance (uint256)</code> - 地址中的余额 (wei 为单位)</li><li><code>&lt;address&gt;.transfer(uint256 amount)</code> - 向指定地址转账，如果失败就抛出异常</li><li><code>&lt;address&gt;.send(uint256 amount) returns (bool)</code> - 向指定地址转账，如果失败则返回 <code>false</code></li><li><code>&lt;address&gt;.call(...) returns (bool)</code></li><li><code>&lt;address&gt;.callcode(...) returns (bool)</code></li><li><code>&lt;address&gt;.delegatecall(...) returns (bool)</code></li></ul><h2 id="contract-related" tabindex="-1"><a class="header-anchor" href="#contract-related"><span>Contract Related</span></a></h2><ul><li><code>this</code> - 当前 contract</li><li><code>selfdestruct(address recipient)</code> - 自毁，将资金转向指定地址</li><li><code>suicide(address recipient)</code> - 同上</li></ul><hr>',23)]))}const s=i(t,[["render",n],["__file","Solidity Units and Globally Variables.html.vue"]]),r=JSON.parse('{"path":"/notes/Solidity/Solidity%20Units%20and%20Globally%20Variables.html","title":"Solidity - Units and Globally Available Variables","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Ether Units","slug":"ether-units","link":"#ether-units","children":[]},{"level":2,"title":"Time Units","slug":"time-units","link":"#time-units","children":[]},{"level":2,"title":"Special Variables and Functions","slug":"special-variables-and-functions","link":"#special-variables-and-functions","children":[{"level":3,"title":"Block and Transaction Properties","slug":"block-and-transaction-properties","link":"#block-and-transaction-properties","children":[]},{"level":3,"title":"Error Handling","slug":"error-handling","link":"#error-handling","children":[]}]},{"level":2,"title":"Mathematical and Cryptographic Functions","slug":"mathematical-and-cryptographic-functions","link":"#mathematical-and-cryptographic-functions","children":[]},{"level":2,"title":"Address Related","slug":"address-related","link":"#address-related","children":[]},{"level":2,"title":"Contract Related","slug":"contract-related","link":"#contract-related","children":[]}],"git":{},"filePathRelative":"notes/Solidity/Solidity Units and Globally Variables.md"}');export{s as comp,r as data};
