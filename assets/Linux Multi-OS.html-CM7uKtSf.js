import{_ as s,c as i,a,b as l,d,e as t,r,o,f as c}from"./app-BeHGwf2X.js";const p="/blog/assets/ubuntu-without-nvidia-D2CPGjnJ.png",u="/blog/assets/ubuntu-drivers-devices-tfg2b79j.png",b="/blog/assets/ubuntu-nvidia-Bd7qr3zo.png",m="/blog/assets/ubuntu-with-nvidia-ByZIrHnN.png",v={};function g(h,e){const n=r("RouteLink");return o(),i("div",null,[e[1]||(e[1]=a(`<h1 id="linux-multi-os" tabindex="-1"><a class="header-anchor" href="#linux-multi-os"><span>Linux - Multi-OS</span></a></h1><p>Created by : Mr Dk.</p><p>2019 / 09 / 15 10:55</p><p>Nanjing, Jiangsu, China</p><hr><h2 id="ubuntu-ç¡¬ç›˜åˆ†åŒº" tabindex="-1"><a class="header-anchor" href="#ubuntu-ç¡¬ç›˜åˆ†åŒº"><span>Ubuntu ç¡¬ç›˜åˆ†åŒº</span></a></h2><p><code>è¿™å°è®¡ç®—æœºå·²ç»å®‰è£…äº†å¤šä¸ªæ“ä½œç³»ç»Ÿã€‚æ‚¨å‡†å¤‡æ€ä¹ˆåšï¼Ÿ</code></p><p>(é€‰æ‹©åˆšæ‰å‰²å‡ºçš„ç©ºä½™çš„ç£ç›˜ç©ºé—´)</p><ul><li>[ ] å®‰è£… Ubuntuï¼Œä¸å…¶ä»–ç³»ç»Ÿå…±å­˜</li><li>[ ] æ¸…é™¤æ•´ä¸ªç£ç›˜å¹¶å®‰è£… Ubuntu</li><li>[x] å…¶å®ƒé€‰é¡¹</li></ul><p>è¿™é‡Œä¸ä¼ ç»Ÿçš„ MBR boot æ–¹å¼ä¸åŒï¼Œä¸å†éœ€è¦å•ç‹¬åˆ†ä¸€ä¸ª <code>/boot</code>ã€‚</p><p>ç¬¬ä¸€ä¸ªåˆ†åŒºï¼Œç”¨äºå®‰è£…ç³»ç»Ÿå†…æ ¸ã€‚é€‰æ‹©ç©ºé—²ç©ºé—´ï¼Œç‚¹å‡» <code>+</code></p><ul><li>å¤§å° - 30720MB (30GB)</li><li>æ–°åˆ†åŒºçš„ç±»å‹ - <code>é€»è¾‘åˆ†åŒº</code></li><li>æ–°åˆ†åŒºçš„ä½ç½® - <code>ç©ºé—´èµ·å§‹ä½ç½®</code></li><li>ç”¨äº - <code>Ext4 æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ</code></li><li>æŒ‚è½½ç‚¹ - <code>/</code></li></ul><p>ç¬¬äºŒä¸ªåˆ†åŒºï¼Œç”¨ä½œ swap spaceã€‚é€‰æ‹©ç©ºé—²ç©ºé—´ï¼Œç‚¹å‡» <code>+</code></p><ul><li>å¤§å° - 2048MB</li><li>æ–°åˆ†åŒºçš„ç±»å‹ - <code>é€»è¾‘åˆ†åŒº</code></li><li>æ–°åˆ†åŒºçš„ä½ç½® - <code>ç©ºé—´èµ·å§‹ä½ç½®</code></li><li>ç”¨äº - <code>äº¤æ¢ç©ºé—´</code></li></ul><p>ç¬¬ä¸‰ä¸ªåˆ†åŒºï¼Œç”¨äºç”¨æˆ·æ•°æ®ã€‚é€‰æ‹©ç©ºé—²ç©ºé—´ï¼Œç‚¹å‡» <code>+</code></p><ul><li>å¤§å° - å‰©ä½™æ‰€æœ‰ç©ºé—´</li><li>æ–°åˆ†åŒºçš„ç±»å‹ - <code>é€»è¾‘åˆ†åŒº</code></li><li>æ–°åˆ†åŒºçš„ä½ç½® - <code>ç©ºé—´èµ·å§‹ä½ç½®</code></li><li>ç”¨äº - <code>Ext4 æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ</code></li><li>æŒ‚è½½ç‚¹ - <code>/home</code></li></ul><p><code>å®‰è£…å¯åŠ¨å¼•å¯¼å™¨çš„è®¾å¤‡ ï¼š</code> - è¿™æ˜¯å®‰è£…ç³»ç»Ÿ boot loader çš„ä½ç½®ã€‚æ‰¾åˆ°ç³»ç»Ÿä¸Šå·²ç»æœ‰çš„ EFI System Partition (ESP) åˆ†åŒºï¼Œå°† boot loader å®‰è£…åˆ°è¿™é‡Œã€‚åœ¨è¿™ä¸ªåˆ†åŒºçš„ <code>efi</code> ç›®å½•ä¸‹ï¼Œæ¯ä¸€ä¸ªå­ç›®å½•éƒ½æ˜¯ä¸€ä¸ªç³»ç»Ÿçš„ boot loaderã€‚</p><h2 id="swap-file" tabindex="-1"><a class="header-anchor" href="#swap-file"><span>Swap File</span></a></h2><p>äº¤æ¢ç©ºé—´ (Swap Space) æ˜¯ç£ç›˜ä¸Šç”¨äºæš‚æ—¶ä¿å­˜ RAM ä¸­ä¸å¸¸ç”¨æ•°æ®çš„ç©ºé—´ã€‚å½“ RAM çš„ç©ºé—´ä¸å¤Ÿä½¿ç”¨æ—¶ï¼ŒOS ä¼šå°† RAM ä¸­çš„éƒ¨åˆ†æ•°æ®æš‚æ—¶å­˜æ”¾åˆ° swap space ä¸­ï¼Œè¿›è€Œç»™æ´»è·ƒçš„ç¨‹åºè…¾å‡ºå†…å­˜ã€‚Swap space ç”±å†…æ ¸çš„å†…å­˜ç®¡ç†ç¨‹åºä½¿ç”¨ï¼Œä»¥é¡µé¢ä¸ºå•ä½è¿›è¡Œå¯¹æ¢ã€‚</p><p>åœ¨ Linux ä¸­ï¼Œå¯ä»¥ä¸“é—¨åœ¨ç£ç›˜ä¸Šåˆ’åˆ†å‡ºä¸€ä¸ª swap åˆ†åŒºï¼Œä¹Ÿå¯ä»¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„æ–‡ä»¶ swap file ä½œä¸º swap ç©ºé—´ã€‚Swap space çš„æ¨èå¤§å°å› ç¡¬ä»¶è€Œå¼‚ï¼Œä¹Ÿå› è¿è¡Œè½¯ä»¶çš„éœ€æ±‚è€Œå¼‚ã€‚ä¸€èˆ¬æ¨èçš„å¤§å°ï¼š</p><ul><li>RAM &lt; 2GB - RAM çš„ä¸¤å€å¤§å°</li><li>RAM 2-8GB - RAM ç›¸åŒå¤§å°</li><li>RAM 9-64GB - 0.5 å€ RAM å¤§å°</li><li>RAM &gt; 64GB - æŒ‰åº”ç”¨ç¨‹åºéœ€æ±‚è€Œå®š</li></ul><p>æˆ‘çš„å·¥ä½œæœºå™¨åœ¨å®‰è£… Linux æ—¶æ²¡æœ‰å•ç‹¬åˆ’åˆ† swap spaceï¼Œå†…å­˜åªæœ‰ 8GBã€‚åœ¨è¿è¡Œå®éªŒç¨‹åºæ—¶ï¼Œå†…å­˜å‡ è¿‘ç”¨å®Œã€‚ç³»ç»Ÿè‡ªåŠ¨ä¸ºæˆ‘åˆ†é…çš„ä¸€ä¸ª 2GB çš„ swap file ä¼¼ä¹ä¹Ÿä¸å¤ªå¤Ÿç”¨ã€‚äºæ˜¯æˆ‘å†³å®šå°† swap file æ‰©å……ä¸º 16GBã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦åœæ­¢ä½¿ç”¨æœºå™¨ä¸Šç°æœ‰çš„ swap fileï¼Œå³éœ€è¦æŠŠ swap file ä¸­æš‚å­˜çš„å†…å­˜æ¬å›çœŸæ­£çš„ç‰©ç† RAM ä¸­å»ï¼Œç›¸å½“äºå¸è½½ä¸€ä¸ªåˆ†åŒºï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo swapoff /swapfile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ­¤æ—¶ï¼Œæˆ‘æ­£å¥½å¼€ç€ä»»åŠ¡ç®¡ç†å™¨ï¼Œå‘ç° swap åˆ†åŒºä¸­çš„æ•°æ®è¢«ä¸€ç‚¹ä¸€ç‚¹åœ°æ¬å›å†…å­˜ï¼Œå†…å­˜å ç”¨ç‡ç¬é—´å‡é«˜ã€‚å½“ä»»åŠ¡ç®¡ç†å™¨æ˜¾ç¤º swap space å·²ç»ç¦æ­¢ä½¿ç”¨æ—¶ï¼Œswap file å°±æ­£å¼åœæ­¢å·¥ä½œäº†ã€‚å¯ä»¥ä½¿ç”¨ <code>rm</code> å‘½ä»¤å°†å…¶åˆ æ‰ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ–°å»ºä¸€ä¸ª 16GB çš„ swap fileï¼Œå¹¶è®¾ç½®å…¶æƒé™ï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo fallocate -l 16G /swapfile</span>
<span class="line">$ sudo chmod 0600 /swapfile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å°† swap file è®¾ç½®ä¸º swap spaceï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo mkswap /swapfile</span>
<span class="line">Setting up swapspace version 1, size = 16 GiB (17179865088 bytes)</span>
<span class="line">no label, UUID=6c4feed5-2e17-477b-b097-88bc85c6dd2e</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åå¯ç”¨ swap spaceï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo swapon /swapfile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä»»åŠ¡ç®¡ç†å™¨ä¸­é‡æ–°æ˜¾ç¤ºäº† swap spaceï¼Œå¹¶å·²ç»è¢«æ‰©å®¹ä¸º 16GBã€‚è¿™å°±æ˜¯æŒºå–œæ¬¢ Linux çš„åœ°æ–¹ - ä¸€åˆ‡è‡ªå·±åŠ¨æ‰‹ã€‚ ğŸ˜</p><blockquote><p><a href="https://blog.csdn.net/Seven_tester/article/details/82628866?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.edu_weight&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.edu_weight" target="_blank" rel="noopener noreferrer">Linux å¢åŠ  swap åˆ†åŒºå’Œåˆ é™¤ swapfile æ–‡ä»¶çš„æ–¹æ³•</a></p><p><a href="https://baijiahao.baidu.com/s?id=1600715185132290794&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener noreferrer">å¦‚ä½•åœ¨ Ubuntu 16.04 ä¸Šå¢åŠ  Swap åˆ†åŒº</a></p></blockquote><h2 id="grub-default-boot-order" tabindex="-1"><a class="header-anchor" href="#grub-default-boot-order"><span>GRUB Default Boot Order</span></a></h2><p>æ”¹ä¸€ä¸‹åŒç³»ç»Ÿçš„é»˜è®¤å¯åŠ¨é¡ºåºã€‚æˆ‘çš„å¤§æœ¬æœ¬è£…ç€ Windows 10 + Ubuntu 18.04 çš„åŒç³»ç»Ÿï¼Œæ¯æ¬¡å¯åŠ¨æ—¶ï¼Œå¦‚æœä¸äººä¸ºé€‰æ‹©ï¼ŒGRUB è¶…æ—¶åè‡ªåŠ¨å¯åŠ¨ Ubuntuã€‚æœ‰æ—¶å€™æˆ‘äººä¸åœ¨ç”µè„‘è¾¹ï¼Œå¼€ç€ Windowsï¼Œä½†å®ƒå› ä¸º Windows Update è‡ªåŠ¨é‡å¯äº†ï¼Œç»“æœç»™æˆ‘é‡å¯åˆ° Ubuntu é‡Œé¢å»äº†......</p><p>äººåœ¨å¤–é¢çš„æˆ‘ï¼Œæƒ³è¿ Windows çš„è¿œç¨‹æ¡Œé¢ï¼šï¼Ÿï¼Ÿï¼Ÿç½‘æ–­äº†ï¼Ÿï¼Ÿï¼Ÿ ğŸ˜‚ å›åˆ°å®éªŒå®¤å‘ç°ï¼Œå“¦ï¼Œç”µè„‘å·²ç»åœ¨ Ubuntu çš„ç™»å½•ç•Œé¢ç­‰ç€äº†ã€‚</p><p>ç†è®ºä¸Šåº”å½“æƒ³åˆ°ï¼Œè¦æ”¹ GRUB çš„é…ç½®æ–‡ä»¶ã€‚ä½†æ˜¯ GRUB çš„é…ç½®æ–‡ä»¶æ˜¯ç”Ÿæˆçš„ï¼Œä¸å»ºè®®æ‰‹åŠ¨ä¿®æ”¹ï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo vim /boot/grub/grub.cfg</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">#</span>
<span class="line"># DO NOT EDIT THIS FILE</span>
<span class="line">#</span>
<span class="line"># It is automatically generated by grub-mkconfig using templates</span>
<span class="line"># from /etc/grub.d and settings from /etc/default/grub</span>
<span class="line">#</span>
<span class="line"></span>
<span class="line">### BEGIN /etc/grub.d/00_header ###</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥å·²ç»æœ‰äº†æç¤ºï¼Œéœ€è¦ç¼–è¾‘ <code>/etc/grub.d</code> å’Œ <code>/etc/default/grub</code></p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ cd /etc/grub.d</span>
<span class="line">$ ls</span>
<span class="line">00_header        10_linux      20_memtest86+  30_uefi-firmware  41_custom</span>
<span class="line">05_debian_theme  20_linux_xen  30_os-prober   40_custom         README</span>
<span class="line">$ vim README</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"></span>
<span class="line">All executable files in this directory are processed in shell expansion order.</span>
<span class="line"></span>
<span class="line">  00_*: Reserved for 00_header.</span>
<span class="line">  10_*: Native boot entries.</span>
<span class="line">  20_*: Third party apps (e.g. memtest86+).</span>
<span class="line"></span>
<span class="line">The number namespace in-between is configurable by system installer and/or</span>
<span class="line">administrator.  For example, you can add an entry to boot another OS as</span>
<span class="line">01_otheros, 11_otheros, etc, depending on the position you want it to occupy in</span>
<span class="line">the menu; and then adjust the default setting via /etc/default/grub.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ï¼Œ<code>/etc/grub.d</code> ç›®å½•ä¸‹éƒ½æ˜¯äº›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ²¡ä»€ä¹ˆå¥½æ”¹çš„ã€‚åªéœ€è¦åœ¨ <code>/etc/default/grub</code> ä¸­è°ƒæ•´é»˜è®¤å¯åŠ¨é¡ºåºå°±å¥½äº†ï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo vim /etc/default/grub</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># If you change this file, run &#39;update-grub&#39; afterwards to update</span>
<span class="line"># /boot/grub/grub.cfg.</span>
<span class="line"># For full documentation of the options in this file, see:</span>
<span class="line">#   info -f grub -n &#39;Simple configuration&#39;</span>
<span class="line"></span>
<span class="line">GRUB_DEFAULT=2</span>
<span class="line">GRUB_TIMEOUT_STYLE=hidden</span>
<span class="line">GRUB_TIMEOUT=0</span>
<span class="line">GRUB_DISTRIBUTOR=\`lsb_release -i -s 2&gt; /dev/null || echo Debian\`</span>
<span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash&quot;</span>
<span class="line">GRUB_CMDLINE_LINUX=&quot;&quot;</span>
<span class="line"></span>
<span class="line"># Uncomment to enable BadRAM filtering, modify to suit your needs</span>
<span class="line"># This works with Linux (no patch required) and with any kernel that obtains</span>
<span class="line"># the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)</span>
<span class="line">#GRUB_BADRAM=&quot;0x01234567,0xfefefefe,0x89abcdef,0xefefefef&quot;</span>
<span class="line"></span>
<span class="line"># Uncomment to disable graphical terminal (grub-pc only)</span>
<span class="line">#GRUB_TERMINAL=console</span>
<span class="line"></span>
<span class="line"># The resolution used on graphical terminal</span>
<span class="line"># note that you can use only modes which your graphic card supports via VBE</span>
<span class="line"># you can see them in real GRUB with the command \`vbeinfo&#39;</span>
<span class="line">#GRUB_GFXMODE=640x480</span>
<span class="line"></span>
<span class="line"># Uncomment if you don&#39;t want GRUB to pass &quot;root=UUID=xxx&quot; parameter to Linux</span>
<span class="line">#GRUB_DISABLE_LINUX_UUID=true</span>
<span class="line"></span>
<span class="line"># Uncomment to disable generation of recovery mode menu entries</span>
<span class="line">#GRUB_DISABLE_RECOVERY=&quot;true&quot;</span>
<span class="line"></span>
<span class="line"># Uncomment to get a beep at grub start</span>
<span class="line">#GRUB_INIT_TUNE=&quot;480 440 1&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œ<code>GRUB_DEFAULT</code> åŸå…ˆä¸º <code>0</code>ï¼Œå¯¹åº”æˆ‘çš„æœ¬æœ¬ä¸Šçš„ Ubuntuã€‚Window Boot Manager (å³ Windows) åœ¨ GRUB åˆ—è¡¨ä¸Šä¸ºç¬¬ä¸‰ä¸ªï¼Œå› æ­¤å°†è¿™ä¸ªå€¼ä¿®æ”¹ä¸º <code>2</code>ã€‚</p><p>æ ¹æ®è¯¥æ–‡ä»¶ä¸­çš„è¯´æ˜ï¼Œä¿®æ”¹è¯¥æ–‡ä»¶åï¼Œéœ€è¦è¿è¡Œ <code>update-grub</code> æ¥ç”Ÿæˆæœ€ç»ˆçš„ GRUB é…ç½®æ–‡ä»¶ <code>/boot/grub/grub.cfg</code>ï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo update-grub</span>
<span class="line">Sourcing file \`/etc/default/grub&#39;</span>
<span class="line">Generating grub configuration file ...</span>
<span class="line">Found linux image: /boot/vmlinuz-4.15.0-63-generic</span>
<span class="line">Found initrd image: /boot/initrd.img-4.15.0-63-generic</span>
<span class="line">Found linux image: /boot/vmlinuz-4.15.0-62-generic</span>
<span class="line">Found initrd image: /boot/initrd.img-4.15.0-62-generic</span>
<span class="line">Found linux image: /boot/vmlinuz-4.15.0-60-generic</span>
<span class="line">Found initrd image: /boot/initrd.img-4.15.0-60-generic</span>
<span class="line">Found Windows Boot Manager on /dev/nvme0n1p2@/EFI/Microsoft/Boot/bootmgfw.efi</span>
<span class="line">Adding boot menu entry for EFI firmware configuration</span>
<span class="line">done</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å¯ä¹‹åï¼Œåœ¨ GRUB ä¸­é»˜è®¤è¿›å…¥ Windows äº†è¯¶~ ğŸ˜</p><h2 id="fixing" tabindex="-1"><a class="header-anchor" href="#fixing"><span>Fixing</span></a></h2><p>ä¸€å°ç”µè„‘ä¸Šè£…äº†ä¸‰ä¸ªç³»ç»Ÿï¼š</p><ul><li>Windows 10</li><li>Ubuntu 18.04</li><li>Deepin</li></ul><p>ç›´æ¥æŠŠ deepin çš„ç©ºé—´ç»™å›æ”¶äº†ï¼Œä½† GRUB è®°å½•æ²¡æœ‰æ¸…ç†ã€‚é‡æ–°å¼€æœºä»¥åç›´æ¥è¿›å…¥äº† GRUB çš„å‘½ä»¤è¡Œï¼Œæ— æ³•è‡ªåŠ¨ boot äº†ã€‚</p><h3 id="è¿›å…¥-windows-10" tabindex="-1"><a class="header-anchor" href="#è¿›å…¥-windows-10"><span>è¿›å…¥ Windows 10</span></a></h3><p>é¦–å…ˆè¾“å…¥ GRUB å‘½ä»¤ <code>ls</code>ï¼Œåˆ—å‡ºæœ¬æœºä¸Šæ‰€æœ‰çš„ç¡¬ç›˜åŠå…¶åˆ†åŒºï¼š<code>(hd0,1) (hd0,2) (hd1,1) ...</code>ï¼Œç„¶åè¾“å…¥ <code>ls (hd0,1)/</code> å³å¯æŸ¥çœ‹åˆ†åŒºä¸­çš„æ–‡ä»¶ç³»ç»Ÿç›®å½•ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‰¾åˆ° Windows 10 çš„ boot åˆ†åŒºã€‚</p><p>æ‰¾åˆ° boot åˆ†åŒºåï¼Œä½¿ç”¨ <code>set root=(hd0,2)</code> æ¥è®¾ç½®å½“å‰ç›®å½•ï¼Œç„¶ååœ¨æ–‡ä»¶ç›®å½•ä¸­å¯»æ‰¾ <code>/efi/Microsoft/Boot/bootmgfw.efi</code>ã€‚</p><div class="language-grub line-numbers-mode" data-highlighter="prismjs" data-ext="grub" data-title="grub"><pre><code><span class="line">chainloader /efi/Microsoft/Boot/bootmgfw.efi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç„¶åæœ€ç»ˆè¾“å…¥ <code>boot</code> å‘½ä»¤å³å¯å¼•å¯¼å¯åŠ¨ã€‚</p><p>å¯åŠ¨å®Œæ¯•åï¼Œè¯•å›¾å®‰è£…ä¸€äº›åŸºäº Win çš„å¼•å¯¼ä¿®å¤è½¯ä»¶ã€‚ä½†æ˜¯åŸºæœ¬ä¸Šéƒ½è¦æ”¶è´¹ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰ä¿®å¤æˆã€‚æ‰€ä»¥å°è¯•è¿›å…¥ Ubuntu ç³»ç»Ÿè¿›è¡Œä¿®å¤ã€‚</p><h3 id="è¿›å…¥-ubuntu" tabindex="-1"><a class="header-anchor" href="#è¿›å…¥-ubuntu"><span>è¿›å…¥ Ubuntu</span></a></h3><p>ä½¿ç”¨ U ç›˜åˆ¶ä½œä¸€ä¸ª Ubuntu å¯åŠ¨ç›˜ï¼Œç„¶åä» U ç›˜å¯åŠ¨ï¼Œå¹¶è¿›å…¥è¯•ç”¨æ¨¡å¼ã€‚ç„¶åä¸‹è½½ <a href="https://github.com/yannmrn/boot-repair" target="_blank" rel="noopener noreferrer">boot-repair</a> è‡ªåŠ¨ä¿®å¤ï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo add-apt-repository ppa:yannubuntu/boot-repair &amp;&amp; sudo apt update</span>
<span class="line">$ sudo apt install -y boot-repair</span>
<span class="line">$ boot-repair</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><a href="https://blog.csdn.net/gyjun0230/article/details/48790501" target="_blank" rel="noopener noreferrer">CSDN - ä¿®å¤ Ubuntu å¯åŠ¨é¡¹</a></p><p><a href="https://blog.csdn.net/hikkilover/article/details/82290873" target="_blank" rel="noopener noreferrer">CSDN - ã€ä¸€é¡¿æ“ä½œã€‘ç”¨ Grub2 å‘½ä»¤è¡Œå¼•å¯¼å¯åŠ¨ Windows 10</a></p></blockquote><h2 id="gpu-problem" tabindex="-1"><a class="header-anchor" href="#gpu-problem"><span>GPU Problem</span></a></h2><p>ç³»ç»Ÿå®‰è£…å®Œæ¯•åé‡å¯ï¼Œç»“æœæ•´ä¸ªç•Œé¢å¡æ­»ï¼Œåº”è¯¥æ˜¯æ˜¾å¡å†²çªçš„é—®é¢˜ã€‚è¿›å…¥ç³»ç»Ÿåï¼Œå‘ç° <em>Ubuntu</em> ä½¿ç”¨äº†é›†æˆæ˜¾å¡ï¼Œæ²¡æœ‰ä½¿ç”¨ <em>NVIDIA</em>ã€‚</p><p><img src="`+p+`" alt="ubuntu-without-nvidia"></p><p>å› æ­¤éœ€è¦å®‰è£… <em>NVIDIA</em> çš„é™„åŠ é©±åŠ¨ï¼š</p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ ubuntu-drivers devices</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+u+`" alt="ubuntu-drivers-devices"></p><div class="language-console line-numbers-mode" data-highlighter="prismjs" data-ext="console" data-title="console"><pre><code><span class="line">$ sudo ubuntu-drivers autoinstall</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¹‹åé‡å¯ç”µè„‘ï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</p><p><img src="`+b+'" alt="ubuntu-nvidia"></p><p><img src="'+m+'" alt="ubuntu-with-nvidia"></p><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference"><span>Reference</span></a></h2><p><a href="http://www.linuxdown.net/install/config/2018/0405/18934.html" target="_blank" rel="noopener noreferrer">EFI + GPT æ¨¡å¼ä¸‹ Linux ä¸ Windows åŒç³»ç»Ÿè¦è¯€</a></p><p><a href="https://blog.csdn.net/jiandanjinxin/article/details/69969217?utm_source=blogxgwz0" target="_blank" rel="noopener noreferrer">Linux ç³»ç»Ÿä¸­æ·»åŠ ç¡¬ç›˜ï¼Œå¹¶æŒ‚è½½åˆ°å·²æœ‰çš„ç›®å½•</a></p>',76)),l("p",null,[d(n,{to:"/how-linux-works-notes/Chapter%205%20-%20How%20the%20Linux%20Kernel%20Boots.html"},{default:t(()=>e[0]||(e[0]=[c("How the Linux Kernel Boots")])),_:1})])])}const w=s(v,[["render",g],["__file","Linux Multi-OS.html.vue"]]),x=JSON.parse('{"path":"/notes/Operating%20System/Linux%20Multi-OS.html","title":"Linux - Multi-OS","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Ubuntu ç¡¬ç›˜åˆ†åŒº","slug":"ubuntu-ç¡¬ç›˜åˆ†åŒº","link":"#ubuntu-ç¡¬ç›˜åˆ†åŒº","children":[]},{"level":2,"title":"Swap File","slug":"swap-file","link":"#swap-file","children":[]},{"level":2,"title":"GRUB Default Boot Order","slug":"grub-default-boot-order","link":"#grub-default-boot-order","children":[]},{"level":2,"title":"Fixing","slug":"fixing","link":"#fixing","children":[{"level":3,"title":"è¿›å…¥ Windows 10","slug":"è¿›å…¥-windows-10","link":"#è¿›å…¥-windows-10","children":[]},{"level":3,"title":"è¿›å…¥ Ubuntu","slug":"è¿›å…¥-ubuntu","link":"#è¿›å…¥-ubuntu","children":[]}]},{"level":2,"title":"GPU Problem","slug":"gpu-problem","link":"#gpu-problem","children":[]},{"level":2,"title":"Reference","slug":"reference","link":"#reference","children":[]}],"git":{},"filePathRelative":"notes/Operating System/Linux Multi-OS.md"}');export{w as comp,x as data};
